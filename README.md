# yasli

<p align="center">
<a href="https://asciinema.org/a/461991" target="_blank"><img src="https://asciinema.org/a/461991.svg" width="90%" /></a>
</p>
<p align="center">
<img src="https://img.shields.io/static/v1?label=License&message=MIT&color=blue&logo=data:image/png;base64,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">
<img src="https://github.com/agronskiy/yasli/actions/workflows/ubuntu-test.yml/badge.svg">
<img src="https://github.com/agronskiy/yasli/actions/workflows/macos-test.yml/badge.svg">
<br/>
<a href="https://github.com/agronskiy/dotfiles"><img src="https://img.shields.io/static/v1?label=Used%20by&message=agronskiy%2Fdotfiles&color=orange"></a>
</p>

## About
YASLI (in Russian, "yasli", "ясли", means "crib" or "nursery" - something from where the new life is bootstrapped) – **Y**et **A**nother **S**etup **L**inker and **I**nstaller for your dotfiles and/or tools environment.

As software engineers, we set up our terminal tooling and dotfiles in new environments - every now and then. This simple yet ready-to-use boilerplate, called "Yasli", automates the two main points a typical terminal user performs to set up a new machine:
- Links config files from a given source (e.g. your repository) into `$HOME`. Linking is non-invasive: if something is already there, it can be chosen to stay or be overwritten.
- Performs installs (priority control included) from a given source, written in the form of dead-simple script files. This reflects how we usually do our installations ourselves, `brew install`, `apt-get install`, or build from source. Just automated and
  - with basic priority (but not dependency) control - you want `curl` installed before you build other tools, right?
  - with built-in check for `Darwin` vs `Ubuntu` platforms. Adding others is simple.

Additionally,
- Comprehensive, indent-based logging
- Handles errors nicely. Yes, you don't need to think about ["Why this failing script does not fail?"](https://gist.github.com/agronskiy/bc9f8b916e6a0a357de8c360dea4d788#warmer)
- Wrappers for common operations

Yasli runs as Bash framework just because it is 100% present on the target system, even though you can use it for setting up your favorite `.zshrc` or anything else.

To enable your new config file or another installer, you just add that file (with special extension) - Yasli will pick it up.

## What it is not

It is not replacement for Ansible or other provisioning software. It _just automates_ what you otherwise would have typed into your command line. Thus saving you time to properly store your favorite configs and tools as persistent files in a repo, not as a set of steps in some readme.

## Installation

![https://badgen.net/badge/Status/WIP/orange](https://badgen.net/badge/Status/WIP/orange)

Clone repo to the location of your liking, such as `~/.yasli`:
```bash
git clone https://github.com/agronskiy/yasli.git ~/.yasli
```

Run linkers and insallers that are located in `<any_path>`:
```bash
DOTFILES=<any_path> ~/.yasli/yasli-main
```

## Credits and inspiration
This started as a heavily adjusted version by @holman.
